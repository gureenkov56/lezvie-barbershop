<template>
  <section>
    <div class="wrapper">
      <h2>–û—Ç–∑—ã–≤—ã –æ –Ω–∞—Å</h2>
      <div class="scroller">
        <div class="review">
          <NuxtLink
            :href="getLink(review.source)"
            v-for="(review, idx) in data"
            :key="idx"
            target="_blank"
          >
            <div class="card">
              <div class="stars">
                <img src="/svg/star.svg" alt="star" width="20px" />
                <img src="/svg/star.svg" alt="star" width="20px" />
                <img src="/svg/star.svg" alt="star" width="20px" />
                <img src="/svg/star.svg" alt="star" width="20px" />
                <img src="/svg/star.svg" alt="star" width="20px" />
              </div>

              <div class="content">
                <p>{{ review.text }}</p>
                <div class="footer">
                  <p class="author">{{ review.author }}</p>
                  <p class="source" v-if="review.source === Yandex">
                    <img
                      src="/images/reviews/ya-map.png"
                      alt="–Ø–Ω–¥–µ–∫—Å –∫–∞—Ä—Ç—ã"
                      width="18px"
                    />
                    <span>–Ø–Ω–¥–µ–∫—Å</span>
                  </p>
                  <p class="source" v-else>
                    <img
                      src="/images/reviews/2gis.png"
                      alt="2–≥–∏—Å"
                      width="18px"
                    />
                    <span>2–ì–∏—Å</span>
                  </p>
                </div>
              </div>
            </div>
          </NuxtLink>
        </div>
      </div>
    </div>
  </section>
</template>

<script lang="ts">
import { ReviewsData, ReviewsSource } from "./types/reviews";

export default defineComponent({
  name: "ReviewsSection",
  setup() {
    function getLink(reviewsSource: ReviewsSource) {
      switch (reviewsSource) {
        case ReviewsSource.Yandex:
          return "https://yandex.ru/maps/48/orenburg/search/lezvie%20barbershop/?ll=55.156046%2C51.801215&sll=55.156046%2C51.801215&sspn=0.170339%2C0.084547&z=12.48";
        case ReviewsSource.DoubleGis:
          return "https://2gis.ru/orenburg/branches/70000001076934354?m=55.176322%2C51.787342%2F11.77";
      }
    }

    const data: ReviewsData[] = [
      {
        text: "–°—É–ø–µ—Ä –º–∞—Å—Ç–µ—Ä–∞. –†–µ–∫–æ–º–µ–Ω–¥—É—é. –°—Ç–∞—Ä–∞—é—Ç—Å—è —É–≥–æ–¥–∏—Ç—å –ª—é–±–æ–º—É –∫–ª–∏–µ–Ω—Ç—É. –ó–∞–π–¥—è –æ–¥–∏–Ω —Ä–∞–∑ –±—É–¥–µ—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –Ω–∏ –æ–¥–∏–Ω —Ä–∞–∑.",
        author: "–ú–∞—Ä–∫ –ê–±—Ä–∞–º–æ–≤",
        source: ReviewsSource.DoubleGis,
      },
      {
        text: "–ú–µ—Å—Ç–æ –æ—Ç–ª–∏—á–Ω–æ–µ, –≤–ø–µ—Ä–≤—ã–µ —Ä–µ—à–∏–ª —Å—Ö–æ–¥–∏—Ç—å –≤ –±–∞—Ä–±–µ—Ä—à–æ–ø, –∏ –Ω–µ –ø—Ä–æ–≥–∞–¥–∞–ª —Å–¥–µ–ª–∞–ª–∏ —Å—Ç—Ä–∏–∂–∫—É –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ, –∞ —á—Ç–æ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ, –±—ã—Å—Ç—Ä–æ –∏ –∫–∞—á–µ—Å—Ç–≤–Ω–Ω–æ. –¢–µ–ø–µ—Ä—å –±—É–¥—É —á–∞—â–µ —Å—Ç—Ä–∏—á—å—Å—è.",
        author: "–î–º–∏—Ç—Ä–∏–π –ó.",
        source: ReviewsSource.Yandex,
      },
      {
        text: "–í—Å–µ –∑–¥–æ—Ä–æ–≤–æ, –≤—Å–µ nice! –ü–æ–æ—Ä–∞–ª —á–∞–µ—á–∫–æ–π –≤ –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ä–∞–∑ —Å —Ü–∏—Ä—é–ª—å–Ω–∏–∫–æ–º, —á—É—Ç—å –Ω–µ —Å–æ–≥–ª–∞—Å–∏–ª—Å—è –≤–ø–µ—Ä–≤—ã–µ –Ω–∞ –ø–æ–∫—Ä–∞—Å–∫—É –≤–æ–ª–æ—ÅüòÇ. –ü–æ –∏—Ç–æ–≥—É, —è –¥–æ–≤–æ–ª–µ–Ω! –•–æ—Ä–æ—à–µ–µ –ú–µ—Å—Ç–æ - –•–æ—Ä–æ—à–∏–π –ß–µ–ª–æ–≤–µ–∫!",
        author: "–ö–∏—Ä –ß—É–¥–∏–Ω–æ–≤",
        source: ReviewsSource.DoubleGis,
      },
      {
        text: "–ö—Ä—É—Ç–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, —Ö–æ—Ä–æ—à–∏–µ –º–∞—Å—Ç–µ—Ä–∞ —Å–≤–æ–µ–≥–æ –¥–µ–ª–∞, –æ—Ç–ª–∏—á–Ω–æ –ø–æ—Å—Ç—Ä–∏–≥–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–¥—É –µ—â–µ —Ä–∞–∑! –ü—Ä–∏—è—Ç–Ω–∞—è –º—É–∑—ã–∫–∞ –∏ –±–µ—Å–µ–¥–∞.",
        author: "–î–º–∏—Ç—Ä–∏–π –í–ª–∞—á–Ω–µ–≤",
        source: ReviewsSource.DoubleGis,
      },
      {
        text: "–û—Ç–ª–∏—á–Ω—ã–π –±–∞—Ä–±–µ—Ä—à–æ–ø, –±–∞—Ä–±–µ—Ä—ã –∑–Ω–∞—é—Ç –∏ –ª—é–±—è—Ç —Å–≤–æ–µ –¥–µ–ª–æ. –ü—Ä–∏—è—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ–∫–∞–∑—ã–≤–∞–µ–º—ã—Ö —É—Å–ª—É–≥. –û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ —Å–æ–≤–µ—Ç—É—é)",
        author: "–ò–≤–∞–Ω –ê.",
        source: ReviewsSource.Yandex,
      },
      {
        text: "–í—Å–µ —Å—É–ø–µ—Ä, –ø—Ä–∏—è—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, –≤–µ–∂–ª–∏–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª, –±—ã–ª —É —Ä–µ–±—è—Ç –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –∏ –±—É–¥—É –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –µ—â—ë",
        author: "–ï–≤–≥–µ–Ω–∏–π –¢.",
        source: ReviewsSource.Yandex,
      },
    ];

    return {
      data,
      Yandex: ReviewsSource.Yandex,
      getLink,
    };
  },
});
</script>

<style>
section {
  background-color: #181a1b;

  .wrapper {
    max-width: 900px;
    margin: 0 auto;
    padding: 3rem 1rem;

    .scroller {
      overflow-x: scroll;
      padding: 1rem;
      margin-top: 2rem;

      .review {
        display: flex;
        flex-wrap: nowrap;
        gap: 1rem;

        .card {
          background-color: #000;
          border-radius: 1rem;
          max-width: 200px;
          min-width: 200px;
          padding: 1rem;
          box-shadow: 0 0 10px 10px rgb(34, 34, 34);

          .stars {
            margin-bottom: 0.5rem;
          }

          .author {
            padding-top: 2rem;
            color: rgb(186, 186, 186);
          }

          .source {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
          }
        }
      }
    }
  }
}
</style>
